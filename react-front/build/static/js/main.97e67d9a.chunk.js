(this.webpackJsonpgmailapi=this.webpackJsonpgmailapi||[]).push([[0],{124:function(e,t){},482:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function n(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},483:function(e,t,a){"use strict";var n=a(16),r=a(17),l=a(19),i=a(18),o=a(1),c=a.n(o),s=(a(495),a(29)),u=a(484),m=a(11),d=a.n(m),f=a(51),p=a(39),h=a.n(p),v=function(){var e=Object(f.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("http://localhost:8181/events").then((function(e){return e.data})).catch((function(e){console.log(e)}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function b(e){return v()}var E=c.a.createContext(),y=function(e){Object(l.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,l=new Array(r),i=0;i<r;i++)l[i]=arguments[i];return(e=t.call.apply(t,[this].concat(l))).state={datas:void 0,updated_data:{},dispatch:function(t){return e.setState((function(a){return e.reducer(a,t)}))}},e}return Object(r.a)(a,[{key:"reducer",value:function(e,t){switch(t.type){case"UPDATE":var a=Object(u.a)(this.state.datas);return a[a.findIndex((function(e){return e.id===t.payload.id}))]=t.payload,Object(s.a)(Object(s.a)({},e),{},{datas:a});case"ADD":this.getDatas();break;case"UPDATED_DATA":return Object(s.a)(Object(s.a)({},e),{},{updated_data:t.payload});case"DELETE_EVENT":return console.log(t.payload),h.a.delete("http://localhost:8181/delete/"+t.payload).then((function(e){e.data&&console.log(e.data)})),Object(s.a)(Object(s.a)({},e),{},{datas:e.datas.filter((function(e){return e.id!==t.payload}))})}}},{key:"componentDidMount",value:function(){var e=this;b().then((function(t){e.setState({datas:t})})).catch((function(e){console.log(e)}))}},{key:"getDatas",value:function(){var e=this;b().then((function(t){e.setState({datas:t})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return c.a.createElement(E.Provider,{value:this.state},this.props.children)}}]),a}(o.Component),_=E.Consumer,k=a(481),g=a(15),w=a(70),O=function(e){Object(l.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,l=new Array(r),i=0;i<r;i++)l[i]=arguments[i];return(e=t.call.apply(t,[this].concat(l))).state={event:"",start_date:0,finish_date:0,success:!1,stateVisible:!1,etkinlikEmpty:!1,sdateEmpty:!1,fdateEmpty:!1},e}return Object(r.a)(a,[{key:"OnSubmit",value:function(){var e=Object(f.a)(d.a.mark((function e(t,a){var n,r,l,i,o=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),n=this.state,r=n.event,l=n.start_date,i=n.finish_date,0===l?this.setState({sdateEmpty:!0}):this.setState({sdateEmpty:!1}),0===i?this.setState({fdateEmpty:!0}):this.setState({fdateEmpty:!1}),""===r||void 0===r||null===r?this.setState({etkinlikEmpty:!0}):this.setState({etkinlikEmpty:!1}),0===l||0===i||""===r){e.next=8;break}return e.next=8,h.a.post("http://localhost:8181/newevent",{id:null,event_name:this.state.event,event_start_date:this.state.start_date,event_last_date:this.state.finish_date,persons:null}).then((function(e){!0===e.data?o.setState({success:!0,stateVisible:!0}):o.setState({success:!1,stateVisible:!0})}));case 8:t({type:"ADD",payload:Date.now()});case 9:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.stateVisible,n=t.success,r=t.etkinlikEmpty,l=t.sdateEmpty,i=t.fdateEmpty;return c.a.createElement(_,null,(function(t){var o=t.dispatch;return c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"card-body"},c.a.createElement("form",{onSubmit:e.OnSubmit.bind(e,o)},c.a.createElement("div",{className:"form-group mb-5"},c.a.createElement("label",{htmlFor:"event"},"Etkinlik:"),c.a.createElement("input",{style:{float:"left"},type:"text",name:"name",id:"id",placeholder:"Etkinlik",className:"form-control",onChange:function(t){e.setState({event:t.target.value})}}),r?c.a.createElement("label",{style:{color:"red",fontFamily:"arial"}}," *Zorunlu"):null),c.a.createElement("br",null),c.a.createElement("div",{className:"form-group mb-5"},c.a.createElement("label",{htmlFor:"event",style:{float:"left"}},"Ba\u015flang\u0131\xe7 Tarihi:"),c.a.createElement(w.Calendar,{style:{float:"left"},inline:!1,maxDate:e.state.finish_date,minDate:new Date(Date.now()),value:e.state.start_date,onChange:function(t){return e.setState({start_date:t.value})}}),l?c.a.createElement("label",{style:{color:"red",fontFamily:"arial"}}," *Zorunlu"):null),c.a.createElement("br",null),c.a.createElement("div",{className:"form-group mb-5"},c.a.createElement("label",{htmlFor:"event",style:{float:"left"}},"Biti\u015f Tarihi:"),c.a.createElement(w.Calendar,{style:{float:"left"},inline:!1,minDate:e.state.start_date?e.state.start_date:new Date(Date.now()),value:e.state.finish_date,onChange:function(t){return e.setState({finish_date:t.value})}}),i?c.a.createElement("label",{style:{color:"red",fontFamily:"arial"}}," *Zorunlu"):null),c.a.createElement("button",{type:"submit",className:"btn btn-dark btn-block"},"Ekle"))),a?n?c.a.createElement("div",{className:"alert alert-success"},c.a.createElement("strong",null,"Ba\u015far\u0131l\u0131!")," Etkinlik Ba\u015far\u0131l\u0131 bir \u015fekilde eklendi."):c.a.createElement("div",{className:"alert alert-warning"},c.a.createElement("strong",null,"Hata!")," Bir hata olu\u015ftu!"):c.a.createElement("div",{className:"alert alert-info"},c.a.createElement("strong",null,"Bilgi:")," Ek olarak sorular ekleyebilirsiniz."))}))}}]),a}(o.Component),D=a(477),j=function(e){Object(l.a)(a,e);var t=Object(i.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){var e=this;return c.a.createElement(_,null,(function(t){var a=t.dispatch,n=t.datas;return console.log(n),c.a.createElement("div",{className:"table-responsive"},c.a.createElement("table",{className:"table"},c.a.createElement("thead",{className:"thead-light"},c.a.createElement("tr",null,c.a.createElement("th",null,"Etkinlik Ad\u0131"),c.a.createElement("th",null,"Ba\u015flang\u0131\xe7 Tarihi"),c.a.createElement("th",null,"Biti\u015f Tarihi"),c.a.createElement("th",null,"Kay\u0131t olanlar"),c.a.createElement("th",null,"Kay\u0131t Say\u0131s\u0131"))),c.a.createElement("tbody",{style:{backgroundColor:"white"}},void 0!==n?n.map((function(t){return c.a.createElement("tr",{key:t.id},c.a.createElement("td",null,t.event_name),c.a.createElement("td",null,new Date(t.event_start_date).toJSON().split("T")[0]),c.a.createElement("td",null,new Date(t.event_last_date).toJSON().split("T")[0]),c.a.createElement("td",null,t.user_count),c.a.createElement("td",null,t.user_count),c.a.createElement("td",null,c.a.createElement("i",{className:"fa fa-pencil-square-o","aria-hidden":"true",style:{cursor:"pointer"},onClick:function(n){new Date(t.event_start_date).getTime()>Date.now()?(a({type:"UPDATED_DATA",payload:t}),e.props.update()):alert("Etkinlik Ba\u015falad\u0131\u011f\u0131 i\xe7in de\u011fi\u015fiklik yap\u0131lamaz!")}})),c.a.createElement("td",null,c.a.createElement("i",{className:"fa fa-trash","aria-hidden":"true",style:{cursor:"pointer"},onClick:function(e){a({type:"DELETE_EVENT",payload:t.id})}})))})):null)))}))}}]),a}(o.Component),C=a(40),T=a(92),S=a(71),N=function(e){Object(l.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,l=new Array(r),i=0;i<r;i++)l[i]=arguments[i];return(e=t.call.apply(t,[this].concat(l))).footer=c.a.createElement(_,null,(function(t){return c.a.createElement("div",null,c.a.createElement(S.Button,{label:"G\xfcncelle",icon:"pi pi-check",onClick:e.update_button_handler.bind(Object(C.a)(e),t.dispatch,t.updated_data)}),c.a.createElement(S.Button,{label:"Vazge\xe7",icon:"pi pi-times",onClick:e.onHide.bind(Object(C.a)(e))}))})),e.state={event:e.data,start_date:0,finish_date:0},e}return Object(r.a)(a,[{key:"update_button_handler",value:function(){var e=Object(f.a)(d.a.mark((function e(t,a,n){var r,l,i,o,c,u,m,f,p=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.state,l=r.event,i=r.start_date,o=r.finish_date,c=""===l?a.event_name:l,u=0===i?new Date(a.event_start_date):new Date(i),m=0===o?new Date(a.event_last_date):new Date(o),u.setDate(u.getDate()+1),m.setDate(m.getDate()+1),f=Object(s.a)(Object(s.a)({},a),{},{event_name:c,event_start_date:u,event_last_date:m}),console.log(f),e.next=10,h.a.put("http://localhost:8181/update",f).then((function(e){e.data?(t({type:"UPDATE",payload:f}),p.props.update()):console.log("Bir hata olu\u015ftu...")}));case 10:case"end":return e.stop()}}),e,this)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"onHide",value:function(e){this.props.update()}},{key:"render",value:function(){var e=this,t=this.props.visible_update;return c.a.createElement(_,null,(function(a){console.log(a.updated_data);var n,r,l=a.updated_data;return void 0!==l&&(n=new Date(l.event_last_date),r=new Date(l.event_start_date)),c.a.createElement(T.Dialog,{maximizable:!0,header:l.event_name,footer:e.footer,visible:t,style:{width:"50vw"},modal:!0,onHide:e.onHide.bind(e)},c.a.createElement("form",null,c.a.createElement("div",{className:"form-group mb-5"},c.a.createElement("label",{htmlFor:"name"},"Etkinlik"),c.a.createElement("input",{style:{float:"left"},type:"text",value:e.state.event_name,name:"name",id:"id",placeholder:"Etkinlik",className:"form-control",onChange:function(t){return e.setState({event:t.value})}})),c.a.createElement("div",{className:"form-group mb-3"},c.a.createElement("label",{htmlFor:"start_date"},"Ba\u015flang\u0131\xe7 Tarihi"),c.a.createElement(w.Calendar,{inline:!1,maxDate:0===e.state.start_date?new Date(l.event_last_date):e.state.finish_date,minDate:new Date(Date.now()),value:r,onChange:function(t){return e.setState({start_date:t.target.value})}})),c.a.createElement("div",{className:"form-group mb-3"},c.a.createElement("label",{htmlFor:"finish_date"},"Biti\u015f Tarihi"),c.a.createElement(w.Calendar,{inline:!1,minDate:(e.state.start_date?new Date(l.event_start_date):e.state.start_date)?e.state.start_date:new Date(Date.now()),value:n,onChange:function(t){return e.setState({finish_date:t.target.value})}}))))}))}}]),a}(o.Component),x=function(e){Object(l.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,l=new Array(r),i=0;i<r;i++)l[i]=arguments[i];return(e=t.call.apply(t,[this].concat(l))).state={visible_update:!1,succes_toast:!1},e.update_render=function(){e.setState({visible_update:!e.state.visible_update})},e}return Object(r.a)(a,[{key:"render",value:function(){var e=this,t=this.state.visible_update;return c.a.createElement(_,null,(function(a){return c.a.createElement("div",null,c.a.createElement(j,{update:e.update_render}),!!t&&c.a.createElement(N,{update:function(){return e.setState({visible_update:!1})},visible_update:t}))}))}}]),a}(o.Component),A=function(e){Object(l.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,l=new Array(r),i=0;i<r;i++)l[i]=arguments[i];return(e=t.call.apply(t,[this].concat(l))).state={items:[{label:"Anasayfa",icon:"pi pi-fw pi-home"},{label:"Etkinlik Ekle",icon:"pi pi-fw pi-calendar"},{label:"D\xfczenle",icon:"pi pi-fw pi-pencil"},{label:"Etkinlikler",icon:"pi pi-fw pi-file"},{label:"Ayarlar",icon:"pi pi-fw pi-cog"}],activeItem:{label:"Anasayfa",icon:"pi pi-fw pi-home"}},e}return Object(r.a)(a,[{key:"render",value:function(){var e=this,t=this.state.activeItem;return c.a.createElement("div",null,c.a.createElement(D.TabMenu,{model:this.state.items,activeItem:this.state.activeItem,onTabChange:function(t){return e.setState({activeItem:t.value})}}),function(t){switch(t){case e.state.items[0]:break;case e.state.items[1]:return c.a.createElement(O,null);case e.state.items[2]:break;case e.state.items[3]:return c.a.createElement(x,null);case e.state.items[4]:break;default:return null}}(t))}}]),a}(o.Component),B=a(478),F=a(480),z=a.n(F),I=a(916),H=function(e){Object(l.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,l=new Array(r),i=0;i<r;i++)l[i]=arguments[i];return(e=t.call.apply(t,[this].concat(l))).footer=c.a.createElement(_,null,(function(t){return c.a.createElement("div",null,c.a.createElement(S.Button,{label:"Ba\u015fvur",icon:"pi pi-check",onClick:e.apply.bind(Object(C.a)(e),t.dispatch)}),c.a.createElement(S.Button,{label:"Vazge\xe7",icon:"pi pi-times",onClick:e.onHide.bind(Object(C.a)(e))}))})),e.state={name:"",surname:"",TC_kimlik:""},e}return Object(r.a)(a,[{key:"apply",value:function(){var e=Object(f.a)(d.a.mark((function e(t,a){var n,r,l,i,o=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.state,r=n.TC_kimlik,l=n.name,i=n.surname,!Number.isInteger(r-0)){e.next=6;break}return e.next=4,h.a.post("http://localhost:8181/apply?event_id="+this.props.event_id,{tc_kimlik:r,name:l,surname:i}).then((function(e){console.log(e.data),t({type:"ADD"}),o.props.visible()}));case 4:e.next=7;break;case 6:alert("TC kimlik numerik olmal\u0131!");case 7:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"onHide",value:function(e){this.props.visible(),this.setState({name:"",surname:"",TC_kimlik:""})}},{key:"render",value:function(){var e=this,t=this.props.visible_dialog;return c.a.createElement(_,null,(function(a){return c.a.createElement(T.Dialog,{maximizable:!0,header:"Ba\u015fvuru",footer:e.footer,visible:t,style:{width:"50vw"},modal:!0,onHide:e.onHide.bind(e)},c.a.createElement("form",null,c.a.createElement("div",{className:"form-group mb-5"},c.a.createElement("label",{htmlFor:"name"},"Ad\u0131:"),c.a.createElement("input",{style:{float:"left"},type:"text",value:e.state.name,name:"name",id:"id",placeholder:"Name",className:"form-control",onChange:function(t){return e.setState({name:t.target.value})}})),c.a.createElement("div",{className:"form-group mb-3"},c.a.createElement("label",{htmlFor:"surname"},"Soyad\u0131:"),c.a.createElement("input",{style:{float:"left"},type:"text",value:e.state.surname,name:"surname",placeholder:"Surname",className:"form-control",onChange:function(t){return e.setState({surname:t.target.value})}})),c.a.createElement("div",{className:"form-group mb-3"},c.a.createElement("label",{htmlFor:"TC_kimlik"},"TC Kimlik"),c.a.createElement("input",{maxLength:11,minLength:11,inputMode:"numeric",style:{float:"left"},type:"text",value:e.state.TC_kimlik,name:"TC",placeholder:"TC",className:"form-control",onChange:function(t){return e.setState({TC_kimlik:t.target.value})}}))))}))}}]),a}(o.Component),P=a(479),L=function(e){Object(l.a)(a,e);var t=Object(i.a)(a);function a(){var e;return Object(n.a)(this,a),(e=t.call(this)).state={visible_apply:!1,first:0,rows:5,clicked_event_id:void 0},e.eventTemplate=e.eventTemplate.bind(Object(C.a)(e)),e}return Object(r.a)(a,[{key:"eventTemplate",value:function(e){var t=this;return c.a.createElement("div",{className:"card",style:{marginBottom:"20px",opacity:10===e.user_count?"70%":"100%"}},c.a.createElement("div",{className:"card-header"},c.a.createElement("h3",null,"Etkinlik Ad\u0131:",e.event_name),"Eklenme Tarihi : ",e.creation_date.split("T")[0]),c.a.createElement("div",{className:"card-body"},c.a.createElement("div",{style:{float:"left"}},c.a.createElement(z.a,{fontSize:"large",style:{borderRight:"solid 2px",marginRight:"20px"}}),"Etkinli\u011fi kat\u0131lman\u0131z\u0131 bekleriz..."),10===e.user_count?c.a.createElement("h4",{style:{float:"right"}},"Doldu"):c.a.createElement(I.a,{color:"primary",variant:"contained",style:{float:"right"},onClick:function(a){return t.setState({visible_apply:!0,clicked_event_id:e.id})}},"Kat\u0131l")),c.a.createElement("div",{className:"card-footer",style:{backgroundColor:"skyblue",color:"white"}},"   Ba\u015flang\u0131\xe7 Tarihi : ",new Date(e.event_start_date).toLocaleString("tr-TR").split(" ")[0],"-Biti\u015f Tarihi : ",new Date(e.event_last_date).toLocaleString("tr-TR").split(" ")[0]))}},{key:"loadData",value:function(e){}},{key:"render",value:function(){var e=this;return c.a.createElement(_,null,(function(t){var a=e.state,n=a.clicked_event_id,r=a.visible_apply,l=[];return(l=l.concat(t.datas)).filter((function(e){return Date.now()<new Date(Object(s.a)({},e).event_start_date).getTime()})),c.a.createElement("div",null,c.a.createElement(B.DataScroller,{lazy:!0,header:"Events",value:l.slice(e.state.first/5*e.state.rows,e.state.rows+e.state.first/5*e.state.rows),itemTemplate:e.eventTemplate}),!!r&&c.a.createElement(H,{event_id:n,visible_dialog:r,visible:function(){return e.setState({visible_apply:!1})}}),c.a.createElement(P.Paginator,{totalRecords:l.length,first:e.state.first,rows:e.state.rows,onPageChange:function(t){return e.setState({first:t.first})}}))}))}}]),a}(o.Component),V=function(e){Object(l.a)(a,e);var t=Object(i.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){return c.a.createElement("div",{className:"App pt-2 pl-2 pr-2"},c.a.createElement(y,null,c.a.createElement(k.a,null,c.a.createElement(g.a,{path:"/owner"},c.a.createElement(A,null)),c.a.createElement(g.a,{path:"/user"},c.a.createElement(L,null)))))}}]),a}(o.Component);t.a=V},487:function(e,t,a){e.exports=a(488)},488:function(e,t,a){"use strict";a.r(t),function(e,t){var n=a(1),r=a.n(n),l=a(24),i=a.n(l),o=(a(494),a(483)),c=a(482),s=(a(546),a(547),a(548),a(41)),u=a(549),m=a(554).google,d=["https://www.googleapis.com/auth/gmail.readonly"];function f(e){m.gmail({version:"v1",auth:e}).users.labels.list({userId:"me"},(function(e,t){if(e)return console.log("The API returned an error: "+e);var a=t.data.labels;a.length?(console.log("Labels:"),a.forEach((function(e){console.log("- ".concat(e.name))}))):console.log("No labels found.")}))}s.readFile("credentials.json",(function(t,a){if(t)return console.log("Error loading client secret file:",t);!function(t,a){var n=t.installed,r=n.client_secret,l=n.client_id,i=n.redirect_uris,o=new m.auth.OAuth2(l,r,i[0]);s.readFile("token.json",(function(t,n){if(t)return function(t,a){var n=t.generateAuthUrl({access_type:"offline",scope:d});console.log("Authorize this app by visiting this url:",n);var r=u.createInterface({input:e.stdin,output:e.stdout});r.question("Enter the code from that page here: ",(function(e){r.close(),t.getToken(e,(function(e,n){if(e)return console.error("Error retrieving access token",e);t.setCredentials(n),s.writeFile("token.json",JSON.stringify(n),(function(e){if(e)return console.error(e);console.log("Token stored to","token.json")})),a(t)}))}))}(o,a);o.setCredentials(JSON.parse(n)),a(o)}))}(JSON.parse(a),f)})),t.exports={SCOPES:d,listLabels:f},i.a.render(r.a.createElement(o.a,null),document.getElementById("root")),c.a()}.call(this,a(12),a(489)(e))},494:function(e,t,a){},495:function(e,t,a){},567:function(e,t){},569:function(e,t){},596:function(e,t){},598:function(e,t){},618:function(e,t){},620:function(e,t){},648:function(e,t){},650:function(e,t){},651:function(e,t){},657:function(e,t){},659:function(e,t){},677:function(e,t){},680:function(e,t){},696:function(e,t){},699:function(e,t){}},[[487,1,2]]]);
//# sourceMappingURL=main.97e67d9a.chunk.js.map